<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>

    <!-- Meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <!-- CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" href="css/style.css">


    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>

    <script src="https://d3js.org/d3.v5.js"
			integrity="sha384-qbNa7U27VV0Cghe/43y8zEMkmA5M4VxV6MI0k0vdVJKTrBoT2SnBqwccpD0vX+Is"
			crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>


    <title>CAP 4744/5745 - Interactive Data Visualization - Project 2</title>

    <!--*******************************************-->
    <!--***** IMPORT EXTERNAL JAVASCRIPT CODE *****-->
    <script src="js/scatterplotIris.js"></script>
    <script src="js/barchartIris.js"></script>
    <script src="js/parallelCoordinate.js"></script>
    <!--*******************************************-->

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="index.html">Project 2: Akash Makati</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="calvin.html">Calvin College 2004</a></li>
            <li class="nav-item active"><a class="nav-link" href="iris.html">Iris Dataset</a></li>
            <li class="nav-item"><a class="nav-link" href="titanic.html">Titanic Passenger List</a></li>
            <li class="nav-item"><a class="nav-link" href="wb_st.html">World Bank Data, Science-and-Technology</a></li>
        </ul>
    </div>
</nav>



<div class="page">

    <h1>CAP 4744/5745 - Interactive Data Visualization</h1>
    <h2>Project 2: Iris Dataset</h2>
    <h2>Akash Makati</h2>

    <h3>Visualization 1: Scatterplot</h3>
    <div><svg id="vis_1" name="vis_1" class="default_svg"></svg></div>
    <div>
        <p> The scatterplot shows that there are two clusters for sepal and petal length, they 
            have a correlation. For example, Iris with a Sepal Length of 4-6cm will likely have
            a petal length of 1-2cm and we can see that from the scatter plot due to the clusters.
            Essentially, the scatterplot allows us to see relationships between the sepal Length
            and the petal length.
        </p>
        <p> I chose a scatterplot to represent the data because it felt the most right. A scatterplot
            would properly explain the data relationships as shown between the petal lengths and sepal
            lengths. The scales are adjusted to be fitted to the data sets for both the x and y axis.
        </p>
    </div>

    <h3>Visualization 2: Parallel Coordinates Plot</h3>
    <div><svg id="vis_2" name="vis_2" class="default_svg"></svg></div>
    <div>
        <p> The parallel coordinates plot shows the relationships between the different rows
            of Iris flowers. It shows how each of the different characteristics correlate and
            relate from one to another and we can see relationships with the heavy traffic of lines
            that show from one to another.
        </p>
        <p> I chose a parallel coordinates plot because I felt that it would show the relationships between
            the different characteristics pretty well and after making it, I would still agree. The parallel
            coordinates plot looks really nice. The scales I made were adjusted to the data sets and I made
            it so that they scales would start at 0 and end at the highest number that was used to prevent
            any extra length. I made sure it started at 0 so there was a base-line and viewers wouldn't get
            confused.
        </p>
    </div>

    <h3>Visualization 3: Bar Chart</h3>
    <div><svg id="vis_3" name="vis_3" class="default_svg"></svg></div>
    <div>
        <p> The Bar Chart compares the three classes of flowers, Iris-setosa, Iris-versicolor, and Iris-virginica
            with the average sepal length of each class. With this simple bar chart, we can see that Iris-virginica
            has the highest average sepal length and the Iris-versicolor has the second highest, leaving the Iris-
            setosa to be the smallest average sepal length.
        </p>
        <p> I chose the bar chart because it is simple yet correctly displays the information we want. It accurately
            displays the difference in average sepal length between the multiple classes. I chose to put the classes 
            on the x-axis as it made most sense to distinguish the classes and I averaged the sepal length for each
            class and compared them all.
        </p>
    </div>

    <h3>Visualization 4: Visualization Type</h3>
    <div><svg id="vis_4" name="vis_4" class="default_svg"></svg></div>
    <div>
        <p>Brief description of what the visualization is trying to show about the data.</p>
        <p>Brief description of the visualization, encoding, and embellishment rationale.</p>
    </div>

</div>


<script>


    /********************************/
    /* LOADING AND VISUALIZING DATA */

    let data = null;
    let vis_1 = null;
    let vis_2 = null;
    let vis_3 = null;
    let vis_4 = null;

    d3.csv("data/iris.csv", (row, i) => {
        return {
            sepalLength: +row["sepal length in cm"],
            sepalWidth: +row["sepal width in cm"], 
            petalLength: +row["petal length in cm"],
            petalWidth: +row["petal width in cm"],
            class: row.class
        };
    }).then(rows => {
        data = rows;
        /********************************/
        /********************************/
        /* BAR CHART                    */
        /********************************/
        /********************************/
        let sepalLengths = data.map(d => {
            return {
                sepalLength: +d.sepalLength,
                class: d.class
            }
        })

        let setosa = sepalLengths.map(d => {
            if (d.class === "Iris-setosa")
                return {
                    sepalLength: d.sepalLength
                }
        })
        setosa = setosa.filter(function (x) {
            return x != undefined;
        })
        setosaAvg = d3.mean(setosa, d => d.sepalLength)

        let versicolor = sepalLengths.map(d => {
            if (d.class === "Iris-versicolor")
                return {
                    sepalLength: d.sepalLength
                }
        })
        versicolor = versicolor.filter(function (x) {
            return x != undefined;
        })
        versicolorAvg = d3.mean(versicolor, d => d.sepalLength)

        let virginica = sepalLengths.map(d => {
            if (d.class === "Iris-virginica")
                return {
                    sepalLength: d.sepalLength
                }
        })
        virginica = virginica.filter(function (x) {
            return x != undefined;
        })
        virginicaAvg = d3.mean(virginica, d => d.sepalLength)

        let barchartData = [
            {
                class: "Iris-setosa", avg: setosaAvg
            },
            {
                class: "Iris-versicolor", avg: versicolorAvg
            },
            {
                class: "Iris-virginica", avg: virginicaAvg
            }
        ]
        
        
        vis_1 = load_scatterplotIris("#vis_1",data)
        vis_2 = load_parallelCoordinate("#vis_2", data)
        vis_3 = load_barchartIris("#vis_3", barchartData)
    }).catch(error => {
        console.log(error);
    });
    /*************************************************/


</script>

</body>
</html>
